<!DOCTYPE html>
<html lang="en">
  <%- include('../components/head.ejs', {title: data.pageTitle}) %>
  <body>
    <div id="root">
      <div class="page-layout">
        <!-- prettier-ignore -->
        <%- include('../components/header.ejs') %>
        <!-- prettier-ignore -->
        <%- include('../components/aside.ejs', {currentPage: data.currentPage}) %>

        <main class="page-layout__main page-layout__section main">
          <div class="page-layout__wrapper">
            <div id="groups-table"></div>
            <table class="table table--groups">
              <thead>
                <tr>
                  <th colspan="2">Название</th>
                  <th>Сканировать</th>
                  <th>Тип группы</th>
                  <th>
                    Последнее <br />
                    обновление
                  </th>
                </tr>
              </thead>
              <tbody>
                <% data.userGroupList.forEach((group) => { %>
                <tr>
                  <td>
                    <img
                      class="logo"
                      src="<%= group.photo %>"
                      alt="иконка группы ВК"
                    />
                  </td>
                  <td>
                    <div><%= group.name %></div>
                    <div class="id"><%= group.vkid %></div>
                  </td>

                  <!--  TODO добавить отображение статуса сканирования и весь функционал -->
                  <td><input type="checkbox" /></td>
                  <td>
                    <%= group.is_private ? 'Приватная' : 'Публичная' %>
                  </td>
                  <td>
                    <%= Intl.DateTimeFormat().format(group.last_group_scan_date)
                    %>
                  </td>
                </tr>
                <% }) %>
              </tbody>
            </table>
          </div>
        </main>
      </div>
    </div>
  </body>
</html>
